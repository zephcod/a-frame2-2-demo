<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">

<head>
<title>template_scroll</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<link type="text/css" rel="stylesheet" href="imagerotator/html/css/round.css"/>
<script type="text/javascript" src="imagerotator/html/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="imagerotator/html/js/imagerotator.js"></script>

<style type= "text/css">

#viewerWrap1
{
    margin: 0 auto 0 auto;
    width: 100%;
    max-width: 600px;
    height: 450px;
    border: 1px dotted #cecfd2;
    position: relative;
    background: url(360_assets/VansShoe/images/Filename_01.jpg) center center no-repeat;
}

#viewer1
{
    background: none;
}

.emptyScroll
{
    height: 2000px;
    text-align: center;
    font-size: 20px;
    padding: 50px 0 0 0;
}

</style>

<!-- 
    See API sections in the user guide for more details: https://webrotate360.s3.amazonaws.com/sites/webrotate360/downloads/Resources/Readme.pdf
-->

<script language="javascript" type="text/javascript">

function loadIfVisible() {
    var viewerParent = jQuery('#viewerWrap1');
    var rotatorTop = viewerParent.offset().top;
    var rotatorBottom = rotatorTop + viewerParent.height();
    var scrollTop = jQuery(this).scrollTop();
    var windowHeight = jQuery(window).height();

    if (scrollTop +  windowHeight > rotatorTop && scrollTop < rotatorBottom) {
        jQuery('#viewer1').rotator({
            licenseFileURL: 'license.lic',
            configFileURL: '360_assets/VansShoe/VansShoe.xml',
            graphicsPath: 'graphics',
            googleEventTracking: false,
            alt: '360 degree view ALT description',
            responsiveBaseWidth: 600,
            responsiveMinHeight: 360
        });
        
        viewerParent.css({ background: 'none' });
        return true;
    }
    
    return false;
}

jQuery(document).ready(function() {
    var isLoaded = loadIfVisible();
    if (!isLoaded) {
        jQuery(window).on('scroll.viewer1', function() {
            if (loadIfVisible()) {
                jQuery(window).off('scroll.viewer1');
            }
        });
    }
});

</script>

</head>

<body>

    <div class="emptyScroll">
        Scroll until you see a static image of a shoe at which point the viewer will load.
    </div>

    <div id="viewerWrap1">
        <div id="viewer1" class="wr360_player">
        </div>
    </div>

    <div class="emptyScroll">
    </div>
    
</body>

</html>
